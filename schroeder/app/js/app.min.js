var app=angular.module("schroederApp",[]);app.controller("schroederCtrl",["$scope","$http",function(e,t){e.page=1;e.model={temperaturas:[],medidas:0,media:{temperatura:0,humidade:0},sensor:{temperatura:"0",humidade:"0"},maxima:{temperatura:"0",humidade:"0"},minima:{temperatura:"0",humidade:"0"}};e.goPage=function(t){e.page=t};e.getData=function(e){if(!!e){var e=e.split("T");return e[0].split("-")[2]+"/"+e[0].split("-")[1]+"/"+e[0].split("-")[0]+" - "+e[1].split(":")[0]+":"+e[1].split(":")[1]}else{return"0"}};e.getDataMaxima=function(e){if(!!e){var e=e.split("T");return e[0].split("-")[2]+"/"+e[0].split("-")[1]+"/"+e[0].split("-")[0]}else{return"0"}};t.get("http://pesagem.ranchobom.com/Danger/schroeder").success(function(t,n,r,i){e.model.temperaturas=t;e.model.sensor.temperatura=t[t.length-1].temperatura;e.model.sensor.humidade=t[t.length-1].humidade;e.model.minima.temperatura=t[0];e.model.maxima.temperatura=t[0];e.model.minima.humidade=t[0];e.model.maxima.humidade=t[0];e.model.medidas=t.length;for(var s=0;s<t.length;s++){e.model.media.temperatura=e.model.media.temperatura+parseInt(t[s].temperatura);e.model.media.humidade=e.model.media.humidade+parseInt(t[s].humidade);if(parseInt(t[s].temperatura)>parseInt(e.model.maxima.temperatura.temperatura)){e.model.maxima.temperatura=t[s]}if(parseInt(t[s].humidade)>parseInt(e.model.maxima.humidade.humidade)){e.model.maxima.humidade=t[s]}if(parseInt(t[s].temperatura)<parseInt(e.model.minima.temperatura.temperatura)){e.model.minima.temperatura=t[s]}if(parseInt(t[s].humidade)<parseInt(e.model.minima.humidade.humidade)){e.model.minima.humidade=t[s]}}})}])